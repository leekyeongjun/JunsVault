> 기존 스레드를 사용하지 않은 서버 (채팅 프로그램)에는 문제가 있다. 어떤 문제일까?

1. 유저 한명의 패킷만을 받아서 처리하고 있음.
2. 동시에 여러명의 유저를 처리해야할 필요가 있음.
3. 클라이언트도 다른 유저의 채팅을 받아들일 수 있어야 함

# 해결안
1. 서버의 accept 파트를 멀티스레드로 구현
	- 유저가 전송한 패킷을 받아오는 스레드
	- accept 하는 스레드
2. 클라이언트를 멀티스레드로 구현
	- 키보드 입력을 받아 서버에 쏴주는 스레드
	- 서버 데이터를 받아오는 스레드

# 그래서 스레드가 뭔데?
우리는 운영체제를 쓰고 있다. 운영체제 없이 스레드가 가능할까? 힘들다.
운영체제도 하나의 프로그램이다.

운영체제가 하드디스크의 코드를 불러와 메모리에 올리고, 그 코드를 실행할 스케줄러에 넣어 언젠가는 실행되게 만든다. -> 이를 프로세스라고 부른다.

이 프로세스 안에서, main() 하나만 돌리는 것이 아니라, 스레드라는 함수를 사용하면 함수 안에서도 Context switching가 일어난다.

요즘에는 CPU갯수가 많아져서, 각 스레드 당 CPU를 할당하는 것도 가능하다.

프로세스와 스레드의 차이점으로, 프로세스간의 메모리 접근은 불가능한 반면, 
스레드끼리의 메모리 접근은 가능하다.

스레드의 메모리 반환을 잘 해줘야 memory leak을 방지할 수 있다.

## Mutex란?
- 스레드 1과 스레드 2가 존재하고, 공유할 수 있는 변수 a가 있다고 쳤을 때, Context switching으로 인해 원하는 결과가 일어나지 않는 것을 "임계 영역"이라고 한다.
- 이를 방지하기 위해 각 스레드 간 Lock이 걸 수 있는데, 이를 Mutex라고 한다.
- 다만 이를 제대로 Unlock 해주지 않으면 계속 기다릴 수 밖에 없는데, 이를 데드락이라고 한다.

